{% extends 'layout.html' %}

{% block title %}Buy Books{% endblock %}

{% block headers %}<link href="//cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css" rel="stylesheet">{% endblock %}

{% block content %}
 <div class="table-responsive">
  <table id="inventory" class="table table-striped">
    <thead>
      <tr>
		<th>ID</th>
		<th>ISBN</th>
		<th>书名</th>
		<th>出版社</th>
		<th>作者</th>
		<th>单价</th>
		<th>购买数量</th>
		<th>#</th>
      </tr>
    </thead>
	<tbody>
    {% for book in inventory %}
      <tr >
		  <td>{{ book.book_id }}</td>
		  <td>{{ book.isbn }}</td>
		  <td>{{ book.name}}</td>
		  <td>{{ book.press }}</td>
		  <td>{{ book.author }}</td>
		  <td>{{ book.retail_price }}</td>
		  <form method="post" action="/buy/{{ book.book_id }}">
		  <td><input name="count" placeholder="1" value="1" style="width:100%;"></td>
		  <td class="col-lg-3" align="center" style="width:18%">
		  	  <button class="buybutton btn btn-xs btn-info" type="submit">购买此书</button>
		  </td>
		  </form>
	  </tr>
    {% endfor %}
	</tbody>
  </table>
  <img src="https://img3.doubanio.com/mpic/s2395226.jpg">
  </div>
{% endblock %}

{% block scripts %}
 <script type="text/javascript" src="//cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
	<script>
		$(document).ready(() => {
			$("#inventory").dataTable();
			$(".buybutton").click(function() {
				alert('购买成功');
			})
		});
	</script>
{% endblock %}

